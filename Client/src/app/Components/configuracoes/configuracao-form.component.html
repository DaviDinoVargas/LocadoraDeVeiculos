<div class="container mt-3">
  <h4>Configurações</h4>

  <form [formGroup]="form" (ngSubmit)="salvar()">
    <!-- Preço do Combustível -->
    <div class="mb-3">
      <label class="form-label">Preço do Combustível (R$/L)</label>
      <div class="input-group">
        <span class="input-group-text">R$</span>
        <input type="number"
               step="0.01"
               min="0"
               class="form-control"
               formControlName="precoCombustivel"/>
      </div>
      <div *ngIf="form.controls['precoCombustivel'].invalid && form.controls['precoCombustivel'].touched"
           class="text-danger small">
        Preço do combustível deve ser maior que 0.
      </div>
    </div>

    <!-- Valor da Garantia -->
    <div class="mb-3">
      <label class="form-label">Valor da Garantia/Caução</label>
      <div class="input-group">
        <span class="input-group-text">R$</span>
        <input type="number"
               class="form-control"
               [value]="1000"
               readonly
               disabled/>
      </div>
      <small class="text-muted">Valor fixo de R$ 1.000,00 para todos os aluguéis</small>
    </div>

    <!-- Botões -->
    <div class="d-flex gap-2">
      <button class="btn btn-primary"
              type="submit"
              [disabled]="loading">
        <span *ngIf="loading" class="spinner-border spinner-border-sm me-1"></span>
        Salvar Configurações
      </button>
      <button class="btn btn-secondary"
              type="button"
              (click)="cancelar()"
              [disabled]="loading">
        Cancelar
      </button>
    </div>

    <!-- Erros do servidor -->
    <div *ngIf="serverErrors.length > 0" class="alert alert-danger mt-3">
      <ul class="mb-0">
        <li *ngFor="let error of serverErrors">{{ error }}</li>
      </ul>
    </div>

    <!-- Mensagem de sucesso -->
    <div *ngIf="mensagemSucesso" class="alert alert-success mt-3">
      {{ mensagemSucesso }}
    </div>
  </form>
</div>
